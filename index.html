<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Future Together</title>
    <link href="https://fonts.googleapis.com/css2?family=Aptos:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #ffd166;
            --text-color: #2d3436;
            --bg-color: #fff;
            --accent-color: #06d6a0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Aptos', sans-serif;
            background: linear-gradient(135deg, #fff5f5 0%, #ffeef0 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-color);
        }

        /* Loading Animation */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }

        .hearts-animation {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .heart {
            font-size: 4rem;
            animation: float 2s ease-in-out infinite;
        }

        .heart-1 { animation-delay: 0s; }
        .heart-2 { animation-delay: 0.5s; }
        .heart-3 { animation-delay: 1s; }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .loading-title {
            font-size: 2.5rem;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 10px;
        }

        .loading-subtitle {
            font-size: 1.2rem;
            color: #666;
            text-align: center;
        }

        /* Main Interface */
        .main-interface {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 1s ease forwards;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #666;
            font-family: 'Aptos', sans-serif;
        }

        /* Timeline Wheel */
        .timeline-container {
            position: relative;
            width: 100%;
            height: 600px;
            margin: 40px 0;
        }

        .timeline-wheel {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .milestone {
            position: absolute;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .milestone:hover {
            transform: scale(1.1);
            border-color: var(--primary-color);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.3);
        }

        .milestone-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .milestone-text {
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-color);
        }

        /* Center Display */
        .center-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            transition: all 0.5s ease;
        }

        .welcome-message h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .welcome-message p {
            color: #666;
            line-height: 1.6;
        }

        .milestone-detail {
            display: none;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .milestone-title {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .milestone-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #555;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        /* Sections */
        .sections-container {
            display: none;
            margin-top: 40px;
        }

        .section {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .section h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 2.5rem;
        }

        /* Map Section */
        .map-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .destination {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 5px solid var(--primary-color);
        }

        .destination:hover {
            transform: translateX(10px);
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .destination h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        /* Goals Section */
        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .goal-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .goal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .goal-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .goal-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-color);
            width: 0%;
            transition: width 2s ease;
        }

        /* Net Worth Section */
        .net-worth-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }

        .net-worth-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .net-worth-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }

        .net-worth-stats {
            display: flex;
            gap: 30px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            color: #666;
        }

        .net-worth-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .net-worth-number {
            font-size: 2.5rem;
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 5px;
        }

        .net-worth-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .net-worth-actions {
            display: flex;
            gap: 15px;
        }

        .accounts-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .account-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--primary-color);
            transition: all 0.3s ease;
        }

        .account-card:hover {
            transform: translateX(5px);
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .account-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .account-name {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        .account-type {
            font-size: 0.8rem;
            color: #666;
            background: #eee;
            padding: 4px 8px;
            border-radius: 10px;
        }

        .account-balance {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .account-actions {
            display: flex;
            gap: 10px;
        }

        .account-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-family: 'Aptos', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-update {
            background: var(--primary-color);
            color: white;
        }

        .btn-delete {
            background: #f0f0f0;
            color: #333;
        }

        .btn-update:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
        }

        .btn-delete:hover {
            background: #ffe6e6;
            color: #ff6b6b;
        }

        /* Add Account Form */
        .add-account-form {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }

        .add-account-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-family: 'Aptos', sans-serif;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            background: white;
        }

        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Net Worth Chart */
        .net-worth-chart {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-top: 30px;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 20px;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Aptos', sans-serif;
            font-size: 0.9rem;
            color: #666;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        /* Newsletters Section */
        .newsletter-container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }

        .newsletter-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .newsletter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }

        .newsletter-stats {
            display: flex;
            gap: 30px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            color: #666;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        .newsletter-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        .newsletter-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 5px solid var(--secondary-color);
        }

        .newsletter-item:hover {
            transform: translateX(10px);
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .newsletter-date {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 10px;
            font-family: 'Aptos', sans-serif;
        }

        .newsletter-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .newsletter-preview {
            font-size: 0.9rem;
            color: #555;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .newsletter-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }

        .newsletter-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #666;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: #f0f0f0;
            color: #333;
        }

        .modal-body {
            line-height: 1.8;
            color: #333;
            font-size: 1.1rem;
        }

        .modal-footer {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 2px solid #eee;
            padding-top: 20px;
            color: #666;
            font-family: 'Aptos', sans-serif;
        }

        /* Add Newsletter Form */
        .add-newsletter-form {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
        }

        .add-newsletter-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-family: 'Aptos', sans-serif;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-family: 'Aptos', sans-serif;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .form-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        /* Job Tracker Section */
        .job-tracker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }

        .job-stats {
            display: flex;
            gap: 30px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            color: #666;
        }

        .job-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .job-number {
            font-size: 2.5rem;
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 5px;
        }

        .job-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .job-actions {
            display: flex;
            gap: 15px;
        }

        .jobs-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .job-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 5px solid var(--primary-color);
            position: relative;
        }

        .job-card:hover {
            transform: translateX(5px);
            background: #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .job-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .job-company {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .job-type {
            font-size: 0.8rem;
            color: #666;
            background: #eee;
            padding: 4px 8px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .job-salary {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .job-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-current {
            background: #d4edda;
            color: #155724;
        }

        .status-previous {
            background: #f8d7da;
            color: #721c24;
        }

        .job-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .job-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            font-family: 'Aptos', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: var(--primary-color);
            color: white;
        }

        .btn-delete-job {
            background: #f0f0f0;
            color: #333;
        }

        .btn-edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(255, 107, 107, 0.3);
        }

        .btn-delete-job:hover {
            background: #ffe6e6;
            color: #ff6b6b;
        }

        .job-date {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 10px;
        }

        .job-notes {
            font-size: 0.9rem;
            color: #555;
            line-height: 1.4;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }

        /* Job Opportunities Section */
        .job-opportunities {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .job-opportunities h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .opportunities-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .opportunity-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--secondary-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .opportunity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .opportunity-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .opportunity-details {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .opportunity-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #999;
            margin-bottom: 15px;
        }

        .download-btn {
            background: var(--accent-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .download-btn:hover {
            background: #05c596;
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(6, 214, 160, 0.3);
        }

        .empty-opportunities {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        /* Daily Puzzle Section */
        .puzzle-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .puzzle-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .puzzle-type-badge {
            background: var(--secondary-color);
            color: #333;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .puzzle-date-badge {
            background: var(--primary-color);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .puzzle-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            min-height: 300px;
        }

        .puzzle-grid {
            display: grid;
            gap: 5px;
            margin: 20px auto;
            max-width: 400px;
        }

        .puzzle-grid-4x4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .puzzle-cell {
            aspect-ratio: 1;
            border: 2px solid #ddd;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            background: white;
            transition: all 0.2s ease;
        }

        .puzzle-cell:hover:not(.puzzle-cell-fixed) {
            background: #f0f0f0;
            cursor: pointer;
        }

        .puzzle-cell-fixed {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .puzzle-cell-input {
            background: white;
            color: var(--primary-color);
        }

        .puzzle-cell input {
            width: 100%;
            height: 100%;
            border: none;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            background: transparent;
            color: var(--primary-color);
        }

        .puzzle-cell input:focus {
            outline: 2px solid var(--accent-color);
            border-radius: 3px;
        }

        .word-puzzle {
            text-align: center;
        }

        .word-puzzle .scrambled-word {
            font-size: 2.5rem;
            letter-spacing: 10px;
            color: var(--primary-color);
            font-weight: 700;
            margin: 30px 0;
        }

        .word-puzzle .word-hint {
            font-size: 1.1rem;
            color: #666;
            font-style: italic;
            margin-bottom: 30px;
        }

        .riddle-puzzle {
            text-align: center;
        }

        .riddle-puzzle .riddle-question {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #333;
            margin: 30px 0;
            font-style: italic;
        }

        .puzzle-input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-family: 'Aptos', sans-serif;
            font-size: 1.1rem;
            text-align: center;
            margin: 20px auto;
            display: block;
        }

        .puzzle-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .puzzle-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .puzzle-feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            min-height: 30px;
        }

        .puzzle-feedback.success {
            color: var(--accent-color);
        }

        .puzzle-feedback.error {
            color: #ff6b6b;
        }

        .puzzle-stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }

        .puzzle-stat-item {
            text-align: center;
        }

        .puzzle-stat-number {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        .puzzle-stat-label {
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
        }

        /* Memory Lane */
        .memory-slider {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .memory-slide {
            display: none;
            text-align: center;
            padding: 40px;
            background: white;
        }

        .memory-slide.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .memory-image {
            width: 200px;
            height: 200px;
            background: #f0f0f0;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5rem;
        }

        .memory-text {
            font-size: 1.5rem;
            color: #555;
            line-height: 1.6;
        }

        .slider-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .slider-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Aptos', sans-serif;
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .timeline-container {
                height: 400px;
            }
            
            .center-display {
                width: 300px;
                height: 300px;
                padding: 20px;
            }
            
            .map-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="hearts-animation">
            <div class="heart heart-1">‚ù§Ô∏è</div>
            <div class="heart heart-2">üíñ</div>
            <div class="heart heart-3">üíï</div>
        </div>
        <h1 class="loading-title">Planning Our Future</h1>
        <p class="loading-subtitle">A special journey just for us</p>
    </div>

    <!-- Main Interface -->
    <div class="main-interface" id="mainInterface">
        <header>
            <h1>Our Future Together</h1>
            <p class="subtitle">Click on any milestone to explore our journey</p>
        </header>

        <!-- Interactive Timeline Wheel -->
        <div class="timeline-container">
            <div class="timeline-wheel" id="timelineWheel">
                <!-- Milestones will be generated by JavaScript -->
            </div>
            
            <div class="center-display" id="centerDisplay">
                <div class="welcome-message">
                    <h2>Welcome to Our Journey</h2>
                    <p>Click on any milestone around the wheel to discover our future dreams together</p>
                </div>
            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="controls">
            <button class="nav-btn" onclick="showSection('timeline')">üìÜ Timeline</button>
            <button class="nav-btn" onclick="showSection('map')">üõ´ Destinations</button>
            <button class="nav-btn" onclick="showSection('home')">üè° Our Home</button>
            <button class="nav-btn" onclick="showSection('goals')">ü•Ö Our Goals</button>
            <button class="nav-btn" onclick="showSection('newsletters')">üíå Love Letters</button>
            <button class="nav-btn" onclick="showSection('jackInTheBox')">üì¶ Jack In The Box</button>
            <button class="nav-btn" onclick="showSection('netWorth')">üí∞ Net Worth</button>
            <button class="nav-btn" onclick="showSection('jobTracker')">üíº Job Tracker</button>
            <button class="nav-btn" onclick="showSection('dailyPuzzle')">üß© Daily Puzzle</button>
        </div>

        <!-- Section Displays -->
        <div class="sections-container" id="sectionsContainer">
            <!-- Destinations Section -->
            <div class="section" id="mapSection">
                <h2>Our Dream Destinations</h2>
                <p>Places we want to explore together around the world</p>
                
                <div class="map-container">
                    <div class="destination" onclick="showDestination('paris')">
                        <h3>üóº Paris, France</h3>
                        <p>Romantic strolls along the Seine, Eiffel Tower at sunset, and croissants in Montmartre</p>
                    </div>
                    <div class="destination" onclick="showDestination('tokyo')">
                        <h3>üå∏ Tokyo, Japan</h3>
                        <p>Cherry blossom viewing, sushi adventures, and exploring ancient temples</p>
                    </div>
                    <div class="destination" onclick="showDestination('maldives')">
                        <h3>üèùÔ∏è Maldives</h3>
                        <p>Private overwater bungalows and crystal clear waters for our dream vacation</p>
                    </div>
                    <div class="destination" onclick="showDestination('italy')">
                        <h3>üçù Italy</h3>
                        <p>Tuscan vineyards, Roman history, and pasta-making classes together</p>
                    </div>
                </div>
            </div>

            <!-- Home Section -->
            <div class="section" id="homeSection">
                <h2>Our Dream Home</h2>
                <p>Where we'll build our life together</p>
                
                <div class="map-container">
                    <div class="destination" onclick="showRoom('kitchen')">
                        <h3>üç≥ The Kitchen</h3>
                        <p>Where we'll cook Sunday breakfasts and share morning coffee</p>
                    </div>
                    <div class="destination" onclick="showRoom('garden')">
                        <h3>üåø The Garden</h3>
                        <p>Our peaceful retreat with flowers, herbs, and space for morning yoga</p>
                    </div>
                    <div class="destination" onclick="showRoom('living')">
                        <h3>üì∫ The Living Room</h3>
                        <p>Cozy movie nights, board games, and our collection of favorite books</p>
                    </div>
                    <div class="destination" onclick="showRoom('study')">
                        <h3>üìö The Study</h3>
                        <p>Our creative space for projects, reading nooks, and planning adventures</p>
                    </div>
                </div>
            </div>

            <!-- Goals Section -->
            <div class="section" id="goalsSection">
                <h2>Our Shared Goals</h2>
                <p>Dreams we're working towards together</p>
                
                <div class="goals-grid">
                    <div class="goal-card">
                        <div class="goal-icon">üéì</div>
                        <div class="goal-title">Personal Growth</div>
                        <p>Supporting each other's dreams, learning new skills, and becoming the best versions of ourselves</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                        <p>60% Complete</p>
                    </div>
                    
                    <div class="goal-card">
                        <div class="goal-icon">üí∞</div>
                        <div class="goal-title">Financial Freedom</div>
                        <p>Smart saving, investments, and creating a secure future for our adventures</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <p>45% Complete</p>
                    </div>
                    
                    <div class="goal-card">
                        <div class="goal-icon">‚ù§Ô∏è</div>
                        <div class="goal-title">Strong Relationship</div>
                        <p>Communication, date nights, and keeping our love strong through life's journey</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                        <p>85% Complete</p>
                    </div>
                    
                    <div class="goal-card">
                        <div class="goal-icon">üåç</div>
                        <div class="goal-title">Adventure & Travel</div>
                        <p>Exploring new places, trying new foods, and creating unforgettable memories</p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                        <p>30% Complete</p>
                    </div>
                </div>
            </div>

            <!-- Newsletters Section -->
            <div class="section" id="newsletterSection">
                <h2>üíå Our Love Letters</h2>
                <p>Messages to each other to remember how much we care</p>
                
                <div class="newsletter-header">
                    <div class="newsletter-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="totalNewsletters">0</span>
                            <span>Total Letters</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalWords">0</span>
                            <span>Total Words</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="lastUpdated">-</span>
                            <span>Last Updated</span>
                        </div>
                    </div>
                    <button class="nav-btn" onclick="showAddNewsletterForm()">Add New Letter</button>
                </div>
                
                <div class="newsletter-list" id="newsletterList">
                    <!-- Letters will be populated by JavaScript -->
                </div>
            </div>

            <!-- Add Newsletter Form -->
            <div class="add-newsletter-form" id="addNewsletterForm">
                <h2>Write a Love Letter</h2>
                <p>Share your feelings and create a memory to cherish</p>
                
                <div class="form-group">
                    <label for="newsletterTitle">Title</label>
                    <input type="text" id="newsletterTitle" placeholder="e.g., 'Thinking of You'">
                </div>
                
                <div class="form-group">
                    <label for="newsletterContent">Your Message</label>
                    <textarea id="newsletterContent" rows="8" placeholder="Write your heartfelt message here..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button class="form-btn btn-secondary" onclick="hideAddNewsletterForm()">Cancel</button>
                    <button class="form-btn btn-primary" onclick="saveNewsletter()">Save Letter</button>
                </div>
            </div>

            <!-- Net Worth Section -->
            <div class="section" id="netWorthSection">
                <h2>üí∞ Our Net Worth Tracker</h2>
                <p>Tracking our financial journey together, step by step</p>
                
                <div class="net-worth-header">
                    <div class="net-worth-stats">
                        <div class="net-worth-stat">
                            <span class="net-worth-number" id="totalNetWorth">¬£0</span>
                            <span class="net-worth-label">Total Net Worth</span>
                        </div>
                        <div class="net-worth-stat">
                            <span class="net-worth-number" id="totalAssets">¬£0</span>
                            <span class="net-worth-label">Total Assets</span>
                        </div>
                        <div class="net-worth-stat">
                            <span class="net-worth-number" id="totalLiabilities">¬£0</span>
                            <span class="net-worth-label">Total Liabilities</span>
                        </div>
                    </div>
                    <div class="net-worth-actions">
                        <button class="nav-btn" onclick="showAddAccountForm()">Add Account</button>
                        <button class="nav-btn" onclick="updateAllBalances()">Update Balances</button>
                    </div>
                </div>
                
                <div class="accounts-list" id="accountsList">
                    <!-- Accounts will be populated by JavaScript -->
                </div>
            </div>

            <!-- Add Account Form -->
            <div class="add-account-form" id="addAccountForm">
                <h2>Add New Account</h2>
                <p>Track all your financial accounts in one place</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="accountName">Account Name</label>
                        <input type="text" id="accountName" placeholder="e.g., Main Checking, Savings, etc.">
                    </div>
                    <div class="form-group">
                        <label for="accountType">Account Type</label>
                        <select id="accountType">
                            <option value="cash">Cash</option>
                            <option value="isa">Cash ISA</option>
                            <option value="lisa">Lifetime ISA</option>
                            <option value="stocks">Stocks & Shares ISA</option>
                            <option value="pension">Pension</option>
                            <option value="crypto">Crypto</option>
                            <option value="property">Property</option>
                            <option value="car">Car</option>
                            <option value="loan">Loan</option>
                            <option value="mortgage">Mortgage</option>
                            <option value="credit">Credit Card</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="accountBalance">Current Balance (¬£)</label>
                        <input type="number" id="accountBalance" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="accountGrowth">Expected Annual Growth (%)</label>
                        <input type="number" id="accountGrowth" placeholder="0.0" step="0.1">
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="accountNotes">Notes (optional)</label>
                    <input type="text" id="accountNotes" placeholder="Any additional information...">
                </div>
                
                <div class="form-actions">
                    <button class="form-btn btn-secondary" onclick="hideAddAccountForm()">Cancel</button>
                    <button class="form-btn btn-primary" onclick="saveAccount()">Add Account</button>
                </div>
            </div>

            <!-- Job Tracker Section -->
            <div class="section" id="jobTrackerSection">
                <h2>üíº Job Tracker</h2>
                <p>Tracking our career progress and professional goals together</p>
                
                <!-- Job Opportunities Section -->
                <div class="job-opportunities">
                    <h3>üéØ Job Opportunities for You</h3>
                    <p style="margin-bottom: 20px; color: #666;">Positions I've found that might be perfect for you!</p>
                    <div class="opportunities-list" id="opportunitiesList">
                        <!-- Job opportunities will be loaded here -->
                    </div>
                </div>
                
                <div class="job-tracker-header">
                    <div class="job-stats">
                        <div class="job-stat">
                            <span class="job-number" id="totalJobs">0</span>
                            <span class="job-label">Total Jobs</span>
                        </div>
                        <div class="job-stat">
                            <span class="job-number" id="totalIncome">¬£0</span>
                            <span class="job-label">Total Income</span>
                        </div>
                        <div class="job-stat">
                            <span class="job-number" id="avgSalary">¬£0</span>
                            <span class="job-label">Average Salary</span>
                        </div>
                    </div>
                    <div class="job-actions">
                        <button class="nav-btn" onclick="showAddJobForm()">Add Job</button>
                        <button class="nav-btn" onclick="exportJobData()">Export Data</button>
                    </div>
                </div>
                
                <div class="jobs-list" id="jobsList">
                    <!-- Jobs will be populated by JavaScript -->
                </div>
            </div>

            <!-- Jack In The Box Section -->
            <div class="section" id="jackInTheBoxSection">
                <h2>üì¶ Jack In The Box</h2>
                <p>Your daily newsletter - fresh thoughts and moments just for you!</p>
                
                <div class="job-opportunities">
                    <h3>üì∞ Recent Editions</h3>
                    <p style="margin-bottom: 20px; color: #666;">Daily updates, thoughts, and moments to share</p>
                    <div class="opportunities-list" id="jackNewslettersList">
                        <!-- Newsletters will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Daily Puzzle Section -->
            <div class="section" id="dailyPuzzleSection">
                <h2>üß© Daily Puzzle</h2>
                <p>A new challenge every day to solve together!</p>
                
                <div class="puzzle-container">
                    <div class="puzzle-header-info">
                        <span class="puzzle-type-badge" id="puzzleTypeBadge">Loading...</span>
                        <span class="puzzle-date-badge" id="puzzleDateBadge">Today</span>
                    </div>
                    
                    <div class="puzzle-content" id="puzzleContent">
                        <!-- Puzzle will be generated here -->
                    </div>
                    
                    <div class="puzzle-stats">
                        <div class="puzzle-stat-item">
                            <div class="puzzle-stat-number" id="puzzleStreak">0</div>
                            <div class="puzzle-stat-label">Day Streak</div>
                        </div>
                        <div class="puzzle-stat-item">
                            <div class="puzzle-stat-number" id="puzzlesSolved">0</div>
                            <div class="puzzle-stat-label">Solved</div>
                        </div>
                        <div class="puzzle-stat-item">
                            <div class="puzzle-stat-number" id="puzzleScore">0</div>
                            <div class="puzzle-stat-label">Points</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Job Form -->
            <div class="add-account-form" id="addJobForm">
                <h2>Add New Job</h2>
                <p>Track your career progress and professional journey</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="jobTitle">Job Title</label>
                        <input type="text" id="jobTitle" placeholder="e.g., Software Developer, Marketing Manager">
                    </div>
                    <div class="form-group">
                        <label for="jobCompany">Company</label>
                        <input type="text" id="jobCompany" placeholder="e.g., Tech Corp, Startup Ltd">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="jobSalary">Annual Salary (¬£)</label>
                        <input type="number" id="jobSalary" placeholder="0" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="jobStartDate">Start Date</label>
                        <input type="date" id="jobStartDate">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="jobType">Job Type</label>
                        <select id="jobType">
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="contract">Contract</option>
                            <option value="freelance">Freelance</option>
                            <option value="internship">Internship</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="jobStatus">Status</label>
                        <select id="jobStatus">
                            <option value="current">Current</option>
                            <option value="previous">Previous</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="jobNotes">Notes (optional)</label>
                    <input type="text" id="jobNotes" placeholder="Any additional information...">
                </div>
                
                <div class="form-actions">
                    <button class="form-btn btn-secondary" onclick="hideAddJobForm()">Cancel</button>
                    <button class="form-btn btn-primary" onclick="saveJob()">Add Job</button>
                </div>
            </div>
        </div>

        <!-- Job Modal -->
        <div class="newsletter-modal" id="jobModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalJobTitle">Job Title</h2>
                    <button class="close-modal" onclick="closeJobModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modalJobCompany">Company</label>
                        <input type="text" id="modalJobCompany">
                    </div>
                    <div class="form-group">
                        <label for="modalJobSalary">Annual Salary (¬£)</label>
                        <input type="number" id="modalJobSalary" step="1000">
                    </div>
                    <div class="form-group">
                        <label for="modalJobStartDate">Start Date</label>
                        <input type="date" id="modalJobStartDate">
                    </div>
                    <div class="form-group">
                        <label for="modalJobType">Job Type</label>
                        <select id="modalJobType">
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="contract">Contract</option>
                            <option value="freelance">Freelance</option>
                            <option value="internship">Internship</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modalJobStatus">Status</label>
                        <select id="modalJobStatus">
                            <option value="current">Current</option>
                            <option value="previous">Previous</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modalJobNotes">Notes</label>
                        <input type="text" id="modalJobNotes">
                    </div>
                </div>
                <div class="modal-footer">
                    <span id="modalJobDuration">Duration: -</span>
                    <div>
                        <button class="form-btn btn-secondary" onclick="deleteJob()">Delete Job</button>
                        <button class="form-btn btn-primary" onclick="saveJobModalChanges()">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Newsletter Modal -->
        <div class="newsletter-modal" id="newsletterModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Letter Title</h2>
                    <button class="close-modal" onclick="closeNewsletterModal()">&times;</button>
                </div>
                <div class="modal-body" id="modalContent">
                    Letter content goes here...
                </div>
                <div class="modal-footer">
                    <span id="modalDate">Date</span>
                    <button class="form-btn btn-secondary" onclick="deleteNewsletter()">Delete Letter</button>
                </div>
            </div>
        </div>

        <!-- Net Worth Modal -->
        <div class="newsletter-modal" id="netWorthModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalAccountName">Account Name</h2>
                    <button class="close-modal" onclick="closeNetWorthModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modalBalance">Current Balance (¬£)</label>
                        <input type="number" id="modalBalance" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="modalGrowth">Expected Annual Growth (%)</label>
                        <input type="number" id="modalGrowth" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="modalNotes">Notes</label>
                        <input type="text" id="modalNotes">
                    </div>
                </div>
                <div class="modal-footer">
                    <span id="modalLastUpdated">Last updated: -</span>
                    <div>
                        <button class="form-btn btn-secondary" onclick="deleteAccount()">Delete Account</button>
                        <button class="form-btn btn-primary" onclick="saveModalChanges()">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Memory Lane -->
        <div class="section" id="memorySection" style="display: block;">
            <h2>Memory Lane</h2>
            <p>Our journey so far, and the beautiful memories we've created</p>
            
            <div class="memory-slider">
                <div class="memory-slide active">
                    <div class="memory-image">üíò</div>
                    <div class="memory-text">"The moment we knew we were meant to be together"</div>
                </div>
                <div class="memory-slide">
                    <div class="memory-image">‚úàÔ∏è</div>
                    <div class="memory-text">"Our first big adventure together"</div>
                </div>
                <div class="memory-slide">
                    <div class="memory-image">üè†</div>
                    <div class="memory-text">"Finding our first place together"</div>
                </div>
                <div class="memory-slide">
                    <div class="memory-image">üéâ</div>
                    <div class="memory-text">"Celebrating our achievements as a team"</div>
                </div>
                
                <div class="slider-nav">
                    <button class="slider-btn" onclick="prevMemory()">‚Üê Previous</button>
                    <button class="slider-btn" onclick="nextMemory()">Next ‚Üí</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Timeline data
        const milestones = [
            { id: 'today', label: 'Today', icon: 'üíù', angle: 0, color: '#ff6b6b' },
            { id: 'nextYear', label: 'Next Year', icon: 'üéâ', angle: 72, color: '#ffd166' },
            { id: 'travel', label: 'Travel Plans', icon: '‚úàÔ∏è', angle: 144, color: '#06d6a0' },
            { id: 'home', label: 'Our Home', icon: 'üè†', angle: 216, color: '#118ab2' },
            { id: 'future', label: 'Future Dreams', icon: 'üåü', angle: 288, color: '#9d4edd' }
        ];

        let currentSlide = 0;
        const totalSlides = 4;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                document.getElementById('loadingScreen').style.opacity = 0;
                setTimeout(function() {
                    document.getElementById('loadingScreen').style.display = 'none';
                    document.getElementById('mainInterface').style.opacity = 1;
                }, 500);
            }, 2000);

            createTimeline();
            setupProgressBars();
        });

        // Create the interactive timeline wheel
        function createTimeline() {
            const wheel = document.getElementById('timelineWheel');
            const radius = 200;
            const centerDisplay = document.getElementById('centerDisplay');

            milestones.forEach(milestone => {
                const element = document.createElement('div');
                element.className = 'milestone';
                element.style.left = `calc(50% + ${Math.cos(milestone.angle * Math.PI / 180) * radius}px)`;
                element.style.top = `calc(50% + ${Math.sin(milestone.angle * Math.PI / 180) * radius}px)`;
                element.style.transform = 'translate(-50%, -50%)';
                element.style.backgroundColor = milestone.color;
                element.onclick = () => showMilestoneDetail(milestone);
                
                element.innerHTML = `
                    <div>
                        <div class="milestone-icon">${milestone.icon}</div>
                        <div class="milestone-text">${milestone.label}</div>
                    </div>
                `;
                
                wheel.appendChild(element);
            });
        }

        // Show milestone details in center
        function showMilestoneDetail(milestone) {
            const centerDisplay = document.getElementById('centerDisplay');
            const welcomeMessage = centerDisplay.querySelector('.welcome-message');
            const detailContent = centerDisplay.querySelector('.milestone-detail');

            if (welcomeMessage) welcomeMessage.style.display = 'none';

            let content = '';
            switch(milestone.id) {
                case 'today':
                    content = `
                        <div class="milestone-detail">
                            <h2 class="milestone-title">üíù Today</h2>
                            <p class="milestone-description">
                                Right now, we're building something beautiful together. 
                                Every day we spend together is a gift, and I'm so grateful 
                                for our love and the journey we're on.
                            </p>
                        </div>
                    `;
                    break;
                case 'nextYear':
                    content = `
                        <div class="milestone-detail">
                            <h2 class="milestone-title">üéâ Next Year</h2>
                            <p class="milestone-description">
                                Big things are coming! New adventures, new memories, 
                                and more reasons to celebrate our love. I can't wait 
                                to see what this year brings for us.
                            </p>
                        </div>
                    `;
                    break;
                case 'travel':
                    content = `
                        <div class="milestone-detail">
                            <h2 class="milestone-title">‚úàÔ∏è Travel Plans</h2>
                            <p class="milestone-description">
                                From weekend getaways to dream destinations around the world, 
                                we'll explore new places and create unforgettable memories together.
                            </p>
                        </div>
                    `;
                    break;
                case 'home':
                    content = `
                        <div class="milestone-detail">
                            <h2 class="milestone-title">üè† Our Home</h2>
                            <p class="milestone-description">
                                Wherever we are together is home. But I'm excited to build 
                                a space that's uniquely ours, filled with love and happiness.
                            </p>
                        </div>
                    `;
                    break;
                case 'future':
                    content = `
                        <div class="milestone-detail">
                            <h2 class="milestone-title">üåü Future Dreams</h2>
                            <p class="milestone-description">
                                The best is yet to come! I can't wait to see all the amazing 
                                things we'll accomplish and experience together.
                            </p>
                        </div>
                    `;
                    break;
            }

            centerDisplay.innerHTML = content;
        }

        // Show different sections
        function showSection(section) {
            const sectionsContainer = document.getElementById('sectionsContainer');
            const sections = document.querySelectorAll('.section');
            
            // Hide all sections first
            sections.forEach(sec => sec.classList.remove('active'));
            
            if (section === 'timeline') {
                sectionsContainer.style.display = 'none';
                document.getElementById('memorySection').style.display = 'block';
                document.getElementById('centerDisplay').innerHTML = `
                    <div class="welcome-message">
                        <h2>Welcome to Our Journey</h2>
                        <p>Click on any milestone around the wheel to discover our future dreams together</p>
                    </div>
                `;
            } else {
                sectionsContainer.style.display = 'block';
                document.getElementById('memorySection').style.display = 'none';
                
                // Show only the selected section
                if (section === 'map') {
                    document.getElementById('mapSection').classList.add('active');
                } else if (section === 'home') {
                    document.getElementById('homeSection').classList.add('active');
                } else if (section === 'goals') {
                    document.getElementById('goalsSection').classList.add('active');
                    animateProgressBars();
                } else if (section === 'newsletters') {
                    document.getElementById('newsletterSection').classList.add('active');
                    renderNewsletters();
                    updateNewsletterStats();
                } else if (section === 'netWorth') {
                    document.getElementById('netWorthSection').classList.add('active');
                    renderAccounts();
                } else if (section === 'jobTracker') {
                    document.getElementById('jobTrackerSection').classList.add('active');
                    renderJobs();
                } else if (section === 'dailyPuzzle') {
                    document.getElementById('dailyPuzzleSection').classList.add('active');
                    loadDailyPuzzle();
                } else if (section === 'jackInTheBox') {
                    document.getElementById('jackInTheBoxSection').classList.add('active');
                    loadJackNewsletters();
                }
            }
        }

        // Destination details
        function showDestination(dest) {
            const messages = {
                'paris': 'Eiffel Tower picnics and Seine river cruises await! üóº',
                'tokyo': 'Sushi adventures and cherry blossom viewing in full bloom! üå∏',
                'maldives': 'Private overwater bungalows and crystal clear waters! üèùÔ∏è',
                'italy': 'Tuscan vineyards and homemade pasta making classes! üçù'
            };
            
            alert(`Our ${dest} adventure: ${messages[dest]}`);
        }

        // Room details
        function showRoom(room) {
            const messages = {
                'kitchen': 'Sunday breakfasts and morning coffee together! üç≥',
                'garden': 'Flowers, herbs, and morning yoga in our peaceful retreat! üåø',
                'living': 'Cozy movie nights and board game marathons! üì∫',
                'study': 'Creative projects and reading nooks for our passions! üìö'
            };
            
            alert(`Our ${room} will be filled with: ${messages[room]}`);
        }

        // Memory slider
        function nextMemory() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateMemorySlider();
        }

        function prevMemory() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateMemorySlider();
        }

        function updateMemorySlider() {
            const slides = document.querySelectorAll('.memory-slide');
            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === currentSlide) {
                    slide.classList.add('active');
                }
            });
        }

        // Progress bars animation
        function setupProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                bar.style.width = '0%';
            });
        }

        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const targetWidth = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = targetWidth;
                }, 500);
            });
        }

        // Newsletters functionality
        let newsletters = JSON.parse(localStorage.getItem('ourNewsletters')) || [];
        let currentModalIndex = null;

        function renderNewsletters() {
            const newsletterList = document.getElementById('newsletterList');
            newsletterList.innerHTML = '';

            if (newsletters.length === 0) {
                newsletterList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üíå</div>
                        <h3>No love letters yet</h3>
                        <p>Click "Add New Letter" to start writing your first message</p>
                    </div>
                `;
                return;
            }

            // Sort newsletters by date (newest first)
            const sortedNewsletters = newsletters.sort((a, b) => new Date(b.date) - new Date(a.date));

            sortedNewsletters.forEach((newsletter, index) => {
                const newsletterElement = document.createElement('div');
                newsletterElement.className = 'newsletter-item';
                newsletterElement.onclick = () => openNewsletterModal(index);
                
                const preview = newsletter.content.substring(0, 100) + (newsletter.content.length > 100 ? '...' : '');
                
                newsletterElement.innerHTML = `
                    <div class="newsletter-date">${formatDate(newsletter.date)}</div>
                    <div class="newsletter-title">${newsletter.title}</div>
                    <div class="newsletter-preview">${preview}</div>
                `;
                
                newsletterList.appendChild(newsletterElement);
            });
        }

        function showAddNewsletterForm() {
            document.getElementById('addNewsletterForm').classList.add('active');
            document.getElementById('newsletterSection').classList.remove('active');
        }

        function hideAddNewsletterForm() {
            document.getElementById('addNewsletterForm').classList.remove('active');
            document.getElementById('newsletterSection').classList.add('active');
        }

        function saveNewsletter() {
            const title = document.getElementById('newsletterTitle').value.trim();
            const content = document.getElementById('newsletterContent').value.trim();

            if (!title || !content) {
                alert('Please fill in both title and content');
                return;
            }

            const newsletter = {
                id: Date.now(),
                title: title,
                content: content,
                date: new Date().toISOString(),
                words: content.split(' ').length
            };

            newsletters.push(newsletter);
            localStorage.setItem('ourNewsletters', JSON.stringify(newsletters));
            
            // Clear form
            document.getElementById('newsletterTitle').value = '';
            document.getElementById('newsletterContent').value = '';
            
            // Show newsletter section
            hideAddNewsletterForm();
            renderNewsletters();
            updateNewsletterStats();
            
            alert('Your love letter has been saved! üíï');
        }

        function openNewsletterModal(index) {
            currentModalIndex = index;
            const newsletter = newsletters[index];
            
            document.getElementById('modalTitle').textContent = newsletter.title;
            document.getElementById('modalContent').textContent = newsletter.content;
            document.getElementById('modalDate').textContent = `Written on ${formatDate(newsletter.date)}`;
            
            document.getElementById('newsletterModal').classList.add('active');
        }

        function closeNewsletterModal() {
            document.getElementById('newsletterModal').classList.remove('active');
            currentModalIndex = null;
        }

        function deleteNewsletter() {
            if (currentModalIndex === null) return;
            
            if (confirm('Are you sure you want to delete this love letter?')) {
                newsletters.splice(currentModalIndex, 1);
                localStorage.setItem('ourNewsletters', JSON.stringify(newsletters));
                closeNewsletterModal();
                renderNewsletters();
                updateNewsletterStats();
                alert('Love letter deleted');
            }
        }

        function updateNewsletterStats() {
            const totalNewsletters = newsletters.length;
            const totalWords = newsletters.reduce((sum, n) => sum + n.words, 0);
            const lastUpdated = newsletters.length > 0 ? formatDate(newsletters[0].date) : '-';
            
            document.getElementById('totalNewsletters').textContent = totalNewsletters;
            document.getElementById('totalWords').textContent = totalWords;
            document.getElementById('lastUpdated').textContent = lastUpdated;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Net Worth functionality
        let accounts = JSON.parse(localStorage.getItem('ourAccounts')) || [];
        let currentAccountIndex = null;

        function renderAccounts() {
            const accountsList = document.getElementById('accountsList');
            accountsList.innerHTML = '';

            if (accounts.length === 0) {
                accountsList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666; grid-column: 1 / -1;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üí∞</div>
                        <h3>No accounts yet</h3>
                        <p>Click "Add Account" to start tracking your finances together</p>
                    </div>
                `;
                updateNetWorthStats();
                return;
            }

            let totalAssets = 0;
            let totalLiabilities = 0;

            accounts.forEach((account, index) => {
                const accountElement = document.createElement('div');
                accountElement.className = 'account-card';
                
                // Determine account type color and icon
                let typeColor = '#ff6b6b';
                let typeIcon = 'üí≥';
                if (account.type === 'cash' || account.type === 'isa' || account.type === 'lisa' || account.type === 'stocks' || account.type === 'pension' || account.type === 'crypto' || account.type === 'property' || account.type === 'car') {
                    typeColor = '#06d6a0';
                    typeIcon = account.type === 'property' ? 'üè†' : account.type === 'car' ? 'üöó' : 'üí∞';
                    totalAssets += account.balance;
                } else {
                    totalLiabilities += account.balance;
                }

                accountElement.style.borderLeftColor = typeColor;
                
                accountElement.innerHTML = `
                    <div class="account-header">
                        <div>
                            <div class="account-name">${typeIcon} ${account.name}</div>
                            <div class="account-type">${getAccountTypeLabel(account.type)}</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="account-balance" style="color: ${typeColor}">
                                ${account.type === 'loan' || account.type === 'mortgage' || account.type === 'credit' ? '-' : ''}¬£${account.balance.toLocaleString()}
                            </div>
                            <div style="font-size: 0.8rem; color: #666;">${account.growth}% growth</div>
                        </div>
                    </div>
                    ${account.notes ? `<div style="font-size: 0.9rem; color: #666; margin-bottom: 15px;">${account.notes}</div>` : ''}
                    <div class="account-actions">
                        <button class="account-btn btn-update" onclick="openAccountModal(${index})">Update</button>
                        <button class="account-btn btn-delete" onclick="deleteAccount(${index})">Delete</button>
                    </div>
                `;
                
                accountsList.appendChild(accountElement);
            });

            updateNetWorthStats();
        }

        function getAccountTypeLabel(type) {
            const labels = {
                'cash': 'Cash',
                'isa': 'Cash ISA',
                'lisa': 'Lifetime ISA',
                'stocks': 'Stocks & Shares ISA',
                'pension': 'Pension',
                'crypto': 'Crypto',
                'property': 'Property',
                'car': 'Car',
                'loan': 'Loan',
                'mortgage': 'Mortgage',
                'credit': 'Credit Card'
            };
            return labels[type] || type;
        }

        function updateNetWorthStats() {
            let totalAssets = 0;
            let totalLiabilities = 0;

            accounts.forEach(account => {
                if (account.type === 'loan' || account.type === 'mortgage' || account.type === 'credit') {
                    totalLiabilities += account.balance;
                } else {
                    totalAssets += account.balance;
                }
            });

            const netWorth = totalAssets - totalLiabilities;

            document.getElementById('totalNetWorth').textContent = '¬£' + netWorth.toLocaleString();
            document.getElementById('totalAssets').textContent = '¬£' + totalAssets.toLocaleString();
            document.getElementById('totalLiabilities').textContent = '¬£' + totalLiabilities.toLocaleString();
        }

        function showAddAccountForm() {
            document.getElementById('addAccountForm').classList.add('active');
            document.getElementById('netWorthSection').classList.remove('active');
        }

        function hideAddAccountForm() {
            document.getElementById('addAccountForm').classList.remove('active');
            document.getElementById('netWorthSection').classList.add('active');
        }

        function saveAccount() {
            const name = document.getElementById('accountName').value.trim();
            const type = document.getElementById('accountType').value;
            const balance = parseFloat(document.getElementById('accountBalance').value);
            const growth = parseFloat(document.getElementById('accountGrowth').value) || 0;
            const notes = document.getElementById('accountNotes').value.trim();

            if (!name || isNaN(balance)) {
                alert('Please fill in account name and balance');
                return;
            }

            const account = {
                id: Date.now(),
                name: name,
                type: type,
                balance: balance,
                growth: growth,
                notes: notes,
                lastUpdated: new Date().toISOString()
            };

            accounts.push(account);
            localStorage.setItem('ourAccounts', JSON.stringify(accounts));
            
            // Clear form
            document.getElementById('accountName').value = '';
            document.getElementById('accountBalance').value = '';
            document.getElementById('accountGrowth').value = '';
            document.getElementById('accountNotes').value = '';
            
            // Show net worth section
            hideAddAccountForm();
            renderAccounts();
            
            alert('Account added successfully! üí∞');
        }

        function openAccountModal(index) {
            currentAccountIndex = index;
            const account = accounts[index];
            
            document.getElementById('modalAccountName').textContent = account.name;
            document.getElementById('modalBalance').value = account.balance;
            document.getElementById('modalGrowth').value = account.growth;
            document.getElementById('modalNotes').value = account.notes || '';
            document.getElementById('modalLastUpdated').textContent = `Last updated: ${formatDate(account.lastUpdated)}`;
            
            document.getElementById('netWorthModal').classList.add('active');
        }

        function closeNetWorthModal() {
            document.getElementById('netWorthModal').classList.remove('active');
            currentAccountIndex = null;
        }

        function saveModalChanges() {
            if (currentAccountIndex === null) return;

            const account = accounts[currentAccountIndex];
            const newBalance = parseFloat(document.getElementById('modalBalance').value);
            const newGrowth = parseFloat(document.getElementById('modalGrowth').value) || 0;
            const newNotes = document.getElementById('modalNotes').value.trim();

            if (isNaN(newBalance)) {
                alert('Please enter a valid balance');
                return;
            }

            account.balance = newBalance;
            account.growth = newGrowth;
            account.notes = newNotes;
            account.lastUpdated = new Date().toISOString();

            localStorage.setItem('ourAccounts', JSON.stringify(accounts));
            closeNetWorthModal();
            renderAccounts();
            alert('Account updated successfully! üí∞');
        }

        function deleteAccount(index) {
            if (index === undefined) {
                // Called from modal
                index = currentAccountIndex;
            }
            
            if (index === null || index === undefined) return;
            
            if (confirm('Are you sure you want to delete this account?')) {
                accounts.splice(index, 1);
                localStorage.setItem('ourAccounts', JSON.stringify(accounts));
                if (document.getElementById('netWorthModal').classList.contains('active')) {
                    closeNetWorthModal();
                }
                renderAccounts();
                alert('Account deleted');
            }
        }

        function updateAllBalances() {
            // This would typically fetch real-time data, but for now we'll just update the last updated time
            const now = new Date().toISOString();
            accounts.forEach(account => {
                account.lastUpdated = now;
            });
            localStorage.setItem('ourAccounts', JSON.stringify(accounts));
            renderAccounts();
            alert('All balances updated! üí∞');
        }

        // Job Tracker functionality
        let jobs = JSON.parse(localStorage.getItem('ourJobs')) || [];
        let currentJobIndex = null;

        function renderJobs() {
            const jobsList = document.getElementById('jobsList');
            jobsList.innerHTML = '';

            if (jobs.length === 0) {
                jobsList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #666; grid-column: 1 / -1;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üíº</div>
                        <h3>No jobs yet</h3>
                        <p>Click "Add Job" to start tracking your career journey together</p>
                    </div>
                `;
                updateJobStats();
                return;
            }

            // Sort jobs by start date (newest first)
            const sortedJobs = jobs.sort((a, b) => new Date(b.startDate) - new Date(a.startDate));

            sortedJobs.forEach((job, index) => {
                const jobElement = document.createElement('div');
                jobElement.className = 'job-card';
                jobElement.onclick = () => openJobModal(index);
                
                const duration = calculateJobDuration(job.startDate);
                const statusClass = job.status === 'current' ? 'status-current' : 'status-previous';
                const statusText = job.status === 'current' ? 'Current' : 'Previous';
                
                jobElement.innerHTML = `
                    <div class="job-header">
                        <div>
                            <div class="job-title">${job.title}</div>
                            <div class="job-company">${job.company}</div>
                            <div class="job-type">${getJobTypeLabel(job.type)}</div>
                        </div>
                        <div style="text-align: right;">
                            <div class="job-salary">¬£${job.salary.toLocaleString()}</div>
                            <div class="job-status ${statusClass}">${statusText}</div>
                        </div>
                    </div>
                    <div class="job-date">Started: ${formatDate(job.startDate)}</div>
                    ${job.notes ? `<div class="job-notes">${job.notes}</div>` : ''}
                    <div class="job-actions">
                        <button class="job-btn btn-edit" onclick="event.stopPropagation(); openJobModal(${index})">Edit</button>
                        <button class="job-btn btn-delete-job" onclick="event.stopPropagation(); deleteJob(${index})">Delete</button>
                    </div>
                `;
                
                jobsList.appendChild(jobElement);
            });

            updateJobStats();
        }

        function getJobTypeLabel(type) {
            const labels = {
                'full-time': 'Full-time',
                'part-time': 'Part-time',
                'contract': 'Contract',
                'freelance': 'Freelance',
                'internship': 'Internship'
            };
            return labels[type] || type;
        }

        function calculateJobDuration(startDate) {
            const start = new Date(startDate);
            const end = new Date();
            const diffTime = Math.abs(end - start);
            const diffYears = Math.floor(diffTime / (1000 * 60 * 60 * 24 * 365));
            const diffMonths = Math.floor((diffTime % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
            
            if (diffYears > 0) {
                return `${diffYears} year${diffYears > 1 ? 's' : ''} ${diffMonths} month${diffMonths !== 1 ? 's' : ''}`;
            } else {
                return `${diffMonths} month${diffMonths !== 1 ? 's' : ''}`;
            }
        }

        function updateJobStats() {
            const totalJobs = jobs.length;
            const totalIncome = jobs.reduce((sum, job) => sum + job.salary, 0);
            const avgSalary = totalJobs > 0 ? Math.round(totalIncome / totalJobs) : 0;
            
            document.getElementById('totalJobs').textContent = totalJobs;
            document.getElementById('totalIncome').textContent = '¬£' + totalIncome.toLocaleString();
            document.getElementById('avgSalary').textContent = '¬£' + avgSalary.toLocaleString();
        }

        function showAddJobForm() {
            document.getElementById('addJobForm').classList.add('active');
            document.getElementById('jobTrackerSection').classList.remove('active');
        }

        function hideAddJobForm() {
            document.getElementById('addJobForm').classList.remove('active');
            document.getElementById('jobTrackerSection').classList.add('active');
        }

        function saveJob() {
            const title = document.getElementById('jobTitle').value.trim();
            const company = document.getElementById('jobCompany').value.trim();
            const salary = parseFloat(document.getElementById('jobSalary').value);
            const startDate = document.getElementById('jobStartDate').value;
            const type = document.getElementById('jobType').value;
            const status = document.getElementById('jobStatus').value;
            const notes = document.getElementById('jobNotes').value.trim();

            if (!title || !company || isNaN(salary) || !startDate) {
                alert('Please fill in all required fields (title, company, salary, and start date)');
                return;
            }

            const job = {
                id: Date.now(),
                title: title,
                company: company,
                salary: salary,
                startDate: startDate,
                type: type,
                status: status,
                notes: notes
            };

            jobs.push(job);
            localStorage.setItem('ourJobs', JSON.stringify(jobs));
            
            // Clear form
            document.getElementById('jobTitle').value = '';
            document.getElementById('jobCompany').value = '';
            document.getElementById('jobSalary').value = '';
            document.getElementById('jobStartDate').value = '';
            document.getElementById('jobNotes').value = '';
            
            // Show job tracker section
            hideAddJobForm();
            renderJobs();
            
            alert('Job added successfully! üíº');
        }

        function openJobModal(index) {
            currentJobIndex = index;
            const job = jobs[index];
            
            document.getElementById('modalJobTitle').textContent = job.title;
            document.getElementById('modalJobCompany').value = job.company;
            document.getElementById('modalJobSalary').value = job.salary;
            document.getElementById('modalJobStartDate').value = job.startDate;
            document.getElementById('modalJobType').value = job.type;
            document.getElementById('modalJobStatus').value = job.status;
            document.getElementById('modalJobNotes').value = job.notes || '';
            document.getElementById('modalJobDuration').textContent = `Duration: ${calculateJobDuration(job.startDate)}`;
            
            document.getElementById('jobModal').classList.add('active');
        }

        function closeJobModal() {
            document.getElementById('jobModal').classList.remove('active');
            currentJobIndex = null;
        }

        function saveJobModalChanges() {
            if (currentJobIndex === null) return;

            const job = jobs[currentJobIndex];
            const newCompany = document.getElementById('modalJobCompany').value.trim();
            const newSalary = parseFloat(document.getElementById('modalJobSalary').value);
            const newStartDate = document.getElementById('modalJobStartDate').value;
            const newType = document.getElementById('modalJobType').value;
            const newStatus = document.getElementById('modalJobStatus').value;
            const newNotes = document.getElementById('modalJobNotes').value.trim();

            if (!newCompany || isNaN(newSalary) || !newStartDate) {
                alert('Please fill in all required fields');
                return;
            }

            job.company = newCompany;
            job.salary = newSalary;
            job.startDate = newStartDate;
            job.type = newType;
            job.status = newStatus;
            job.notes = newNotes;

            localStorage.setItem('ourJobs', JSON.stringify(jobs));
            closeJobModal();
            renderJobs();
            alert('Job updated successfully! üíº');
        }

        function deleteJob(index) {
            if (index === undefined) {
                // Called from modal
                index = currentJobIndex;
            }
            
            if (index === null || index === undefined) return;
            
            if (confirm('Are you sure you want to delete this job?')) {
                jobs.splice(index, 1);
                localStorage.setItem('ourJobs', JSON.stringify(jobs));
                if (document.getElementById('jobModal').classList.contains('active')) {
                    closeJobModal();
                }
                renderJobs();
                alert('Job deleted');
            }
        }

        function exportJobData() {
            if (jobs.length === 0) {
                alert('No job data to export');
                return;
            }

            const csvContent = [
                ['Title', 'Company', 'Salary', 'Start Date', 'Type', 'Status', 'Notes'],
                ...jobs.map(job => [
                    job.title,
                    job.company,
                    job.salary,
                    job.startDate,
                    job.type,
                    job.status,
                    job.notes || ''
                ])
            ].map(row => row.join(',')).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'job_tracker_data.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('Job data exported successfully! üíº');
        }

        // Job Opportunities functionality
        // Configuration - Update this with your GitHub username and repository name
        const GITHUB_CONFIG = {
            username: 'YOUR-GITHUB-USERNAME',  // Replace with your actual GitHub username
            repo: 'YOUR-REPO-NAME',           // Replace with your actual repository name
            jobsFolder: 'job-postings'        // The folder where job posting files are stored
        };

        // This function loads job opportunities from GitHub
        function loadJobOpportunities() {
            const opportunitiesList = document.getElementById('opportunitiesList');
            
            // Sample job opportunities - these will be the files you upload to GitHub
            // The system will look for files in the format: job-postings/filename.pdf or .docx
            const sampleOpportunities = [
                {
                    title: 'Software Engineer - TechCorp',
                    company: 'TechCorp Inc',
                    salary: '¬£55,000 - ¬£65,000',
                    location: 'London',
                    fileName: 'software-engineer-techcorp.pdf',
                    dateAdded: '2026-02-22'
                },
                {
                    title: 'Marketing Manager - Creative Agency',
                    company: 'Creative Solutions Ltd',
                    salary: '¬£45,000 - ¬£50,000',
                    location: 'Manchester',
                    fileName: 'marketing-manager-creative.pdf',
                    dateAdded: '2026-02-20'
                }
            ];

            // For now, display empty state with instructions
            // Once you upload files to GitHub, update the sampleOpportunities array above
            opportunitiesList.innerHTML = `
                <div class="empty-opportunities">
                    <div style="font-size: 4rem; margin-bottom: 20px;">üìÑ</div>
                    <h3>No job opportunities yet</h3>
                    <p style="margin-bottom: 15px;">To add job opportunities:</p>
                    <ol style="text-align: left; display: inline-block; margin-bottom: 15px;">
                        <li>Create a <code>job-postings/</code> folder in your GitHub repository</li>
                        <li>Upload job posting files (PDF, DOCX, etc.) to that folder</li>
                        <li>Files will be accessible via direct download links!</li>
                    </ol>
                    <p style="font-size: 0.9rem; color: #999;">
                        See the documentation file for detailed instructions
                    </p>
                </div>
            `;

            // Uncomment the code below once you've configured your GitHub details and uploaded files
            /*
            if (sampleOpportunities.length === 0) {
                opportunitiesList.innerHTML = `
                    <div class="empty-opportunities">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üìÑ</div>
                        <h3>No job opportunities yet</h3>
                        <p>Upload job posting files to your GitHub repository to see them here!</p>
                    </div>
                `;
                return;
            }

            opportunitiesList.innerHTML = '';
            sampleOpportunities.forEach(opportunity => {
                const opportunityCard = document.createElement('div');
                opportunityCard.className = 'opportunity-card';
                
                const fileUrl = `https://${GITHUB_CONFIG.username}.github.io/${GITHUB_CONFIG.repo}/${GITHUB_CONFIG.jobsFolder}/${opportunity.fileName}`;
                
                opportunityCard.innerHTML = `
                    <div class="opportunity-title">${opportunity.title}</div>
                    <div class="opportunity-details">
                        <strong>${opportunity.company}</strong><br>
                        üí∞ ${opportunity.salary}<br>
                        üìç ${opportunity.location}
                    </div>
                    <div class="opportunity-meta">
                        <span>Added ${formatSimpleDate(opportunity.dateAdded)}</span>
                        <span>üìé ${getFileExtension(opportunity.fileName).toUpperCase()}</span>
                    </div>
                    <button class="download-btn" onclick="downloadJobPosting('${fileUrl}', '${opportunity.fileName}')">
                        <span>üì•</span>
                        <span>Download Details</span>
                    </button>
                `;
                
                opportunitiesList.appendChild(opportunityCard);
            });
            */
        }

        function downloadJobPosting(url, fileName) {
            // Open the file in a new tab for download
            window.open(url, '_blank');
        }

        function formatSimpleDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));
            
            if (diffDays === 0) return 'today';
            if (diffDays === 1) return 'yesterday';
            if (diffDays < 7) return `${diffDays} days ago`;
            if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        }

        function getFileExtension(fileName) {
            return fileName.split('.').pop();
        }

        // Load job opportunities when the job tracker section is shown
        const originalShowSection = showSection;
        showSection = function(section) {
            originalShowSection(section);
            if (section === 'jobTracker') {
                loadJobOpportunities();
            } else if (section === 'dailyPuzzle') {
                loadDailyPuzzle();
            }
        };

        // Daily Puzzle functionality
        let puzzleData = JSON.parse(localStorage.getItem('dailyPuzzles')) || {
            streak: 0,
            solved: 0,
            score: 0,
            lastSolvedDate: null,
            history: []
        };

        let currentPuzzle = null;

        // Puzzle collections
        const riddles = [
            {question: "I speak without a mouth and hear without ears. I have no body, but I come alive with the wind. What am I?", answer: "echo", hint: "Sound bouncing back"},
            {question: "What has keys but can't open locks?", answer: "keyboard", hint: "You're using one now"},
            {question: "I'm light as a feather, yet the strongest person can't hold me for more than 5 minutes. What am I?", answer: "breath", hint: "Essential for life"},
            {question: "What goes up but never comes down?", answer: "age", hint: "Related to time"},
            {question: "The more you take, the more you leave behind. What am I?", answer: "footsteps", hint: "Walking creates them"},
            {question: "What has a head and a tail but no body?", answer: "coin", hint: "Currency"},
            {question: "What can travel around the world while staying in one corner?", answer: "stamp", hint: "On envelopes"}
        ];

        const wordPuzzles = [
            {scrambled: "VEOL", answer: "LOVE", hint: "What we share"},
            {scrambled: "OYRUNEJ", answer: "JOURNEY", hint: "Our path together"},
            {scrambled: "ERUUTF", answer: "FUTURE", hint: "What we're planning"},
            {scrambled: "OGTHRTEE", answer: "TOGETHER", hint: "How we are"},
            {scrambled: "MAERD", answer: "DREAM", hint: "What we chase"},
            {scrambled: "PPAHINESS", answer: "HAPPINESS", hint: "What we seek"},
            {scrambled: "ROTFMOC", answer: "COMFORT", hint: "What we give each other"}
        ];

        const miniSudoku = [
            {puzzle: [[1,0,3,0],[0,3,0,1],[3,0,1,0],[0,1,0,3]], solution: [[1,2,3,4],[4,3,2,1],[3,4,1,2],[2,1,4,3]]},
            {puzzle: [[0,2,0,4],[3,0,1,0],[0,3,4,0],[4,0,2,0]], solution: [[1,2,3,4],[3,4,1,2],[2,3,4,1],[4,1,2,3]]},
            {puzzle: [[2,0,4,0],[0,4,0,2],[4,0,2,0],[0,2,0,4]], solution: [[2,3,4,1],[1,4,3,2],[4,1,2,3],[3,2,1,4]]},
            {puzzle: [[0,1,0,3],[4,0,2,0],[0,4,0,1],[3,0,4,0]], solution: [[2,1,4,3],[4,3,2,1],[2,4,3,1],[3,2,4,1]]}
        ];

        function getDayOfYear() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 0);
            const diff = now - start;
            const oneDay = 1000 * 60 * 60 * 24;
            return Math.floor(diff / oneDay);
        }

        function getTodayString() {
            return new Date().toDateString();
        }

        function loadDailyPuzzle() {
            const today = getTodayString();
            const dayOfYear = getDayOfYear();
            
            // Determine puzzle type based on day (rotates daily)
            const puzzleType = dayOfYear % 3; // 0=riddle, 1=word, 2=sudoku
            
            // Check if already solved today
            const alreadySolved = puzzleData.history.some(entry => entry.date === today);
            
            if (alreadySolved) {
                const solvedPuzzle = puzzleData.history.find(entry => entry.date === today);
                displaySolvedPuzzle(solvedPuzzle);
            } else {
                generatePuzzle(puzzleType, dayOfYear);
            }
            
            updatePuzzleStats();
        }

        function generatePuzzle(type, seed) {
            const today = getTodayString();
            
            switch(type) {
                case 0: // Riddle
                    const riddle = riddles[seed % riddles.length];
                    currentPuzzle = {
                        type: 'riddle',
                        data: riddle,
                        date: today
                    };
                    displayRiddle(riddle);
                    break;
                    
                case 1: // Word Puzzle
                    const wordPuzzle = wordPuzzles[seed % wordPuzzles.length];
                    currentPuzzle = {
                        type: 'word',
                        data: wordPuzzle,
                        date: today
                    };
                    displayWordPuzzle(wordPuzzle);
                    break;
                    
                case 2: // Mini Sudoku
                    const sudoku = miniSudoku[seed % miniSudoku.length];
                    currentPuzzle = {
                        type: 'sudoku',
                        data: sudoku,
                        userInput: JSON.parse(JSON.stringify(sudoku.puzzle)),
                        date: today
                    };
                    displaySudoku(sudoku);
                    break;
            }
        }

        function displayRiddle(riddle) {
            document.getElementById('puzzleTypeBadge').textContent = 'ü§î Riddle';
            document.getElementById('puzzleDateBadge').textContent = getTodayString();
            
            document.getElementById('puzzleContent').innerHTML = `
                <div class="riddle-puzzle">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">Today's Riddle</h3>
                    <div class="riddle-question">"${riddle.question}"</div>
                    <input type="text" class="puzzle-input" id="riddleAnswer" placeholder="Type your answer...">
                    <div class="puzzle-buttons">
                        <button class="nav-btn" onclick="checkRiddleAnswer()">Submit Answer</button>
                        <button class="form-btn btn-secondary" onclick="showHint('${riddle.hint}')">Show Hint</button>
                    </div>
                    <div class="puzzle-feedback" id="puzzleFeedback"></div>
                </div>
            `;
        }

        function displayWordPuzzle(puzzle) {
            document.getElementById('puzzleTypeBadge').textContent = 'üî§ Word Puzzle';
            document.getElementById('puzzleDateBadge').textContent = getTodayString();
            
            document.getElementById('puzzleContent').innerHTML = `
                <div class="word-puzzle">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">Unscramble the Word</h3>
                    <div class="scrambled-word">${puzzle.scrambled}</div>
                    <div class="word-hint">Hint: ${puzzle.hint}</div>
                    <input type="text" class="puzzle-input" id="wordAnswer" placeholder="Type the unscrambled word..." maxlength="${puzzle.answer.length}">
                    <div class="puzzle-buttons">
                        <button class="nav-btn" onclick="checkWordAnswer()">Submit Answer</button>
                    </div>
                    <div class="puzzle-feedback" id="puzzleFeedback"></div>
                </div>
            `;
        }

        function displaySudoku(sudoku) {
            document.getElementById('puzzleTypeBadge').textContent = 'üî¢ Mini Sudoku';
            document.getElementById('puzzleDateBadge').textContent = getTodayString();
            
            let gridHTML = '<div class="puzzle-grid puzzle-grid-4x4">';
            
            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 4; j++) {
                    const value = sudoku.puzzle[i][j];
                    if (value === 0) {
                        gridHTML += `<div class="puzzle-cell puzzle-cell-input">
                            <input type="number" min="1" max="4" value="" 
                                   onchange="updateSudokuCell(${i}, ${j}, this.value)"
                                   style="width: 100%; height: 100%; border: none; text-align: center; font-size: 1.5rem; font-weight: 600;">
                        </div>`;
                    } else {
                        gridHTML += `<div class="puzzle-cell puzzle-cell-fixed">${value}</div>`;
                    }
                }
            }
            gridHTML += '</div>';
            
            document.getElementById('puzzleContent').innerHTML = `
                <div style="text-align: center;">
                    <h3 style="color: var(--primary-color); margin-bottom: 10px;">Fill in the Missing Numbers</h3>
                    <p style="color: #666; margin-bottom: 20px;">Each row and column must contain 1, 2, 3, and 4</p>
                    ${gridHTML}
                    <div class="puzzle-buttons">
                        <button class="nav-btn" onclick="checkSudoku()">Check Solution</button>
                        <button class="form-btn btn-secondary" onclick="resetSudoku()">Reset</button>
                    </div>
                    <div class="puzzle-feedback" id="puzzleFeedback"></div>
                </div>
            `;
        }

        function checkRiddleAnswer() {
            const userAnswer = document.getElementById('riddleAnswer').value.trim().toLowerCase();
            const correctAnswer = currentPuzzle.data.answer.toLowerCase();
            const feedback = document.getElementById('puzzleFeedback');
            
            if (userAnswer === correctAnswer) {
                feedback.textContent = 'üéâ Correct! Well done!';
                feedback.className = 'puzzle-feedback success';
                markPuzzleSolved(10);
            } else if (userAnswer.length > 0) {
                feedback.textContent = '‚ùå Not quite! Try again.';
                feedback.className = 'puzzle-feedback error';
            }
        }

        function checkWordAnswer() {
            const userAnswer = document.getElementById('wordAnswer').value.trim().toUpperCase();
            const correctAnswer = currentPuzzle.data.answer.toUpperCase();
            const feedback = document.getElementById('puzzleFeedback');
            
            if (userAnswer === correctAnswer) {
                feedback.textContent = 'üéâ Perfect! You unscrambled it!';
                feedback.className = 'puzzle-feedback success';
                markPuzzleSolved(10);
            } else if (userAnswer.length > 0) {
                feedback.textContent = '‚ùå Not quite! Keep trying.';
                feedback.className = 'puzzle-feedback error';
            }
        }

        function updateSudokuCell(row, col, value) {
            if (currentPuzzle && currentPuzzle.userInput) {
                currentPuzzle.userInput[row][col] = value ? parseInt(value) : 0;
            }
        }

        function checkSudoku() {
            if (!currentPuzzle || !currentPuzzle.userInput) return;
            
            const feedback = document.getElementById('puzzleFeedback');
            const solution = currentPuzzle.data.solution;
            const userGrid = currentPuzzle.userInput;
            
            let isCorrect = true;
            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 4; j++) {
                    if (userGrid[i][j] !== solution[i][j]) {
                        isCorrect = false;
                        break;
                    }
                }
                if (!isCorrect) break;
            }
            
            if (isCorrect) {
                feedback.textContent = 'üéâ Perfect! You solved the Sudoku!';
                feedback.className = 'puzzle-feedback success';
                markPuzzleSolved(15);
            } else {
                feedback.textContent = '‚ùå Not quite right. Check your numbers!';
                feedback.className = 'puzzle-feedback error';
            }
        }

        function resetSudoku() {
            if (currentPuzzle && currentPuzzle.data) {
                currentPuzzle.userInput = JSON.parse(JSON.stringify(currentPuzzle.data.puzzle));
                displaySudoku(currentPuzzle.data);
            }
        }

        function showHint(hint) {
            const feedback = document.getElementById('puzzleFeedback');
            feedback.textContent = `üí° Hint: ${hint}`;
            feedback.className = 'puzzle-feedback';
            feedback.style.color = '#ffd166';
        }

        function markPuzzleSolved(points) {
            const today = getTodayString();
            
            // Check if this is a new solve (not already in history)
            if (!puzzleData.history.some(entry => entry.date === today)) {
                // Update streak
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayString = yesterday.toDateString();
                
                if (puzzleData.lastSolvedDate === yesterdayString) {
                    puzzleData.streak++;
                } else if (puzzleData.lastSolvedDate === today) {
                    // Already solved today, don't change streak
                } else {
                    puzzleData.streak = 1;
                }
                
                puzzleData.solved++;
                puzzleData.score += points;
                puzzleData.lastSolvedDate = today;
                
                puzzleData.history.push({
                    date: today,
                    type: currentPuzzle.type,
                    points: points,
                    solved: true
                });
                
                localStorage.setItem('dailyPuzzles', JSON.stringify(puzzleData));
                updatePuzzleStats();
                
                setTimeout(() => {
                    const solvedPuzzle = puzzleData.history.find(entry => entry.date === today);
                    displaySolvedPuzzle(solvedPuzzle);
                }, 2000);
            }
        }

        function displaySolvedPuzzle(solvedPuzzle) {
            document.getElementById('puzzleContent').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 5rem; margin-bottom: 20px;">üéâ</div>
                    <h3 style="color: var(--accent-color); margin-bottom: 20px;">Puzzle Completed!</h3>
                    <p style="font-size: 1.2rem; color: #666; margin-bottom: 10px;">
                        You've already solved today's ${solvedPuzzle.type} puzzle!
                    </p>
                    <p style="font-size: 1rem; color: #999;">
                        Come back tomorrow for a new challenge! üß©
                    </p>
                    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 15px; display: inline-block;">
                        <div style="font-size: 2rem; color: var(--primary-color); font-weight: 700;">+${solvedPuzzle.points} points</div>
                        <div style="font-size: 0.9rem; color: #666;">Earned today</div>
                    </div>
                </div>
            `;
        }

        function updatePuzzleStats() {
            document.getElementById('puzzleStreak').textContent = puzzleData.streak;
            document.getElementById('puzzlesSolved').textContent = puzzleData.solved;
            document.getElementById('puzzleScore').textContent = puzzleData.score;
        }

        // Jack In The Box Newsletter functionality
        const JACK_CONFIG = {
            username: 'jscottfitzgerald',  // Your GitHub username
            repo: 'jiffat-residence',      // Your repository name
            newslettersFolder: 'jack-in-the-box'  // Folder for daily newsletters
        };

        function loadJackNewsletters() {
            const jackList = document.getElementById('jackNewslettersList');
            
            // Sample newsletters - update this array as you add new newsletters
            const sampleNewsletters = [
                {
                    title: "Jack In The Box #139",
                    date: '2026-02-23',
                    fileName: 'jack-in-the-box-139.pdf',
                    preview: "Today's Jack In The Box newsletter"
                }
            ];

            // Display newsletters
            if (sampleNewsletters.length === 0) {
                jackList.innerHTML = `
                    <div class="empty-opportunities">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üì¶</div>
                        <h3>No newsletters yet</h3>
                        <p>Upload newsletter files to start sharing!</p>
                    </div>
                `;
                return;
            }

            jackList.innerHTML = '';
            // Sort by date (newest first)
            const sortedNewsletters = sampleNewsletters.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedNewsletters.forEach(newsletter => {
                const newsletterCard = document.createElement('div');
                newsletterCard.className = 'opportunity-card';
                newsletterCard.style.borderLeftColor = 'var(--primary-color)';
                
                const fileUrl = `https://${JACK_CONFIG.username}.github.io/${JACK_CONFIG.repo}/${JACK_CONFIG.newslettersFolder}/${newsletter.fileName}`;
                
                newsletterCard.innerHTML = `
                    <div class="opportunity-title">${newsletter.title}</div>
                    <div class="opportunity-details">
                        ${newsletter.preview || 'Daily thoughts, updates, and moments to share with you'}
                    </div>
                    <div class="opportunity-meta">
                        <span>üìÖ ${formatSimpleDate(newsletter.date)}</span>
                        <span>üìé ${getFileExtension(newsletter.fileName).toUpperCase()}</span>
                    </div>
                    <button class="download-btn" onclick="downloadJobPosting('${fileUrl}', '${newsletter.fileName}')" style="background: var(--primary-color);">
                        <span>üì•</span>
                        <span>Read Newsletter</span>
                    </button>
                `;
                
                jackList.appendChild(newsletterCard);
            });
        }
    </script>
</body>
</html>
